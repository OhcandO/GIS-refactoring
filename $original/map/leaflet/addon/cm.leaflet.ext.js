function WarpingTile(E1C,K1C,u1C,b1C){this["id"]=E1C;this["level"]=K1C;this["image"]=u1C;this["src"]=b1C;}L["Map"]["include"]({X_invalidateSize:function(t94){var M94,G94,o94,y94,U94;if(!this["_loaded"]){return this;}t94=L["extend"]({animate:false,pan:true},t94===true?{animate:true}:t94);M94=this["getSize"]();this["_sizeChanged"]=true;this["_lastCenter"]=null;G94=this["getSize"](),o94=M94["divideBy"](2)["round"](),y94=G94["divideBy"](2)["round"](),U94=o94["subtract"](y94);if(t94["animate"]&&t94["pan"]){this["panBy"](U94);}else{if(t94["pan"]){this["_rawPanBy"](U94);}this["fire"]('move');if(t94["debounceMoveend"]){clearTimeout(this["_sizeTimer"]);this["_sizeTimer"]=setTimeout(L["bind"](this["fire"],this,'moveend'),200);}else{this["fire"]('moveend');}}return this["fire"]('resize',{oldSize:M94,newSize:G94});},getZoomScale_layer_crs:function(R94,B94,k94){var v94;v94=R94;if(R94==undefined)v94=this["options"]["crs"];k94=k94===undefined?this["_zoom"]:k94;return v94["scale"](B94)/v94["scale"](k94);},project_layer_crs:function(j94,p94,S94){S94=S94===undefined?this["_zoom"]:S94;if(j94==undefined){return this["options"]["crs"]["latLngToPoint"](L["latLng"](p94),S94);}else{return j94["latLngToPoint"](L["latLng"](p94),S94);}},unproject_layer_crs:function(Q94,H94,Y94){Y94=Y94===undefined?this["_zoom"]:Y94;if(Q94==undefined){return this["options"]["crs"]["pointToLatLng"](L["point"](H94),Y94);}else{return Q94["pointToLatLng"](L["point"](H94),Y94);}},layerPointToLatLng_layer_crs:function(i94,X94){var r94;r94=toPoint(X94)["add"](this["getPixelOrigin"]());return this["unproject_layer_crs"](i94,r94);},getPixelWorldBounds_layer_crs:function(Z94,D94){if(Z94==undefined){return this["options"]["crs"]["getProjectedBounds"](D94===undefined?this["getZoom"]():D94);}else{return Z94["getProjectedBounds"](D94===undefined?this["getZoom"]():D94);}},removeLayer:function(g94){var O94;O94=L["stamp"](g94);if(!this["_layers"][O94]){return this;}if(this["_loaded"]){g94["onRemove"](this);}if(g94["getAttribution"]&&this["attributionControl"]){this["attributionControl"]["removeAttribution"](g94["getAttribution"]());}delete this["_layers"][O94];if(this["_loaded"]){this["fire"]('layerremove',{layer:g94});g94["fire"]('remove');}if(g94["options"]["useLayerCRS"]==true){g94["_clearWarpingImage"]();}g94["_map"]=g94["_mapToAdd"]=null;return this;}});L["GridLayer"]["include"]({_tileCoordsToNwSe:function(q94){var m94,J0C,l0C,C0C,c0C,e0C;m94=this["_map"],J0C=this["getTileSize"](),l0C=q94["scaleBy"](J0C),C0C=l0C["add"](J0C),c0C=m94["unproject"](l0C,q94["z"]),e0C=m94["unproject"](C0C,q94["z"]);return[c0C,e0C];},_tileCoordsToNwSe_layer_crs:function(A0C,W0C){var a0C,T0C,h0C,f0C,x0C,P0C;a0C=this["_map"],T0C=this["getTileSize"](),h0C=W0C["scaleBy"](T0C),f0C=h0C["add"](T0C),x0C=a0C["unproject_layer_crs"](A0C,h0C,W0C["z"]),P0C=a0C["unproject_layer_crs"](A0C,f0C,W0C["z"]);return[x0C,P0C];},_tileCoordsToSwNe_layer_crs:function(K0C,w0C){var d0C,N0C,L0C,s0C,V0C,E0C,b0C,u0C;d0C=this["_map"],N0C=this["getTileSize"]();L0C=new L["Point"]();L0C["x"]=w0C["x"];L0C["y"]=w0C["y"]+1;s0C=new L["Point"]();s0C["y"]=w0C["y"];s0C["x"]=w0C["x"]+1;V0C=new L["Point"]();E0C=new L["Point"]();V0C=L0C["scaleBy"](N0C);E0C=s0C["scaleBy"](N0C);b0C=d0C["unproject_layer_crs"](K0C,V0C,w0C["z"]);u0C=d0C["unproject_layer_crs"](K0C,E0C,w0C["z"]);return[b0C,u0C];},_updateLevels:function(){var n0C,t0C,z0C,F0C;n0C=this["_tileZoom"],t0C=this["options"]["maxZoom"];if(n0C===undefined){return undefined;}for(var I0C in this["_levels"]){if(this["_levels"][I0C]["el"]["children"]["length"]||I0C===n0C){this["_levels"][I0C]["el"]["style"]["zIndex"]=t0C-Math["abs"](n0C-I0C);}else{L["DomUtil"]["remove"](this["_levels"][I0C]["el"]);this["_removeTilesAtZoom"](I0C);delete this["_levels"][I0C];}}z0C=this["_levels"][n0C],F0C=this["_map"];if(!z0C){z0C=this["_levels"][n0C]={};z0C["el"]=L["DomUtil"]["create"]('div','leaflet-tile-container leaflet-zoom-animated',this["_container"]);z0C["el"]["style"]["zIndex"]=t0C;z0C["origin"]=F0C["project"](F0C["unproject"](F0C["getPixelOrigin"]()),n0C)["round"]();z0C["zoom"]=n0C;this["_setZoomTransform"](z0C,F0C["getCenter"](),F0C["getZoom"]());L["Util"]["falseFn"](z0C["el"]["offsetWidth"]);}this["_level"]=z0C;this["_clearWarpingImage"](n0C);return z0C;},_clearWarpingImage:function(U0C){var M0C,o0C,G0C;M0C=0;o0C=0;if(this["WarpingTileImage"]!=undefined){while(M0C<this["WarpingTileImage"]["length"]){G0C=this["WarpingTileImage"][M0C];if(!(G0C["level"]==U0C)&&G0C["id"]==this["_leaflet_id"]||U0C==undefined){G0C["image"]["remove"]();this["WarpingTileImage"]["splice"](M0C,1);M0C--;o0C++;}M0C++;}}},_getTiledPixelBounds:function(k0C){var y0C,v0C,R0C;y0C=this["_map"],v0C=y0C["_animatingZoom"]?Math["max"](y0C["_animateToZoom"],y0C["getZoom"]()):y0C["getZoom"](),R0C=y0C["getZoomScale"](v0C,this["_tileZoom"]);pixelCenter=y0C["project"](k0C,this["_tileZoom"])["floor"]();if(!(this["_map"]["_layers"][this["_leaflet_id"]]["options"]["crs"]==undefined)&&this["_map"]["_layers"][this["_leaflet_id"]]["options"]["useLayerCRS"]==true)pixelCenter=y0C["project_layer_crs"](this["_map"]["_layers"][this["_leaflet_id"]]["options"]["crs"],k0C,this["_tileZoom"])["floor"]();halfSize=y0C["getSize"]()["divideBy"](R0C*2);return new L["Bounds"](pixelCenter["subtract"](halfSize),pixelCenter["add"](halfSize));},_update:function(H0C){var Q0C,g0C,m0C,B0C,Z0C,j0C,p0C,q0C,r0C,Y0C,O0C,X0C;if(this["WarpingTileImage"]==undefined){this["WarpingTileImage"]=new Array();}Q0C=this["_map"];if(!Q0C){return;}g0C=Q0C["getZoom"]();if(H0C===undefined){H0C=Q0C["getCenter"]();}if(this["_tileZoom"]===undefined){return;}m0C=this["_getTiledPixelBounds"](H0C),B0C=this["_pxBoundsToTileRange"](m0C),Z0C=B0C["getCenter"](),j0C=[],p0C=this["options"]["keepBuffer"],q0C=new L["Bounds"](B0C["getBottomLeft"]()["subtract"]([p0C,-p0C]),B0C["getTopRight"]()["add"]([p0C,-p0C]));for(var D0C in this["_tiles"]){r0C=this["_tiles"][D0C]["coords"];if(r0C["z"]!==this["_tileZoom"]||!q0C["contains"](L["point"](r0C["x"],r0C["y"]))){this["_tiles"][D0C]["current"]=false;}}if(Math["abs"](g0C-this["_tileZoom"])>1){this["_setView"](H0C,g0C);return;}for(var i0C=B0C["min"]["y"];i0C<=B0C["max"]["y"];i0C++){for(var S0C=B0C["min"]["x"];S0C<=B0C["max"]["x"];S0C++){Y0C=new L["Point"](S0C,i0C);Y0C["z"]=this["_tileZoom"];if(!this["_isValidTile"](Y0C)){continue;}O0C=this["_tiles"][this["_tileCoordsToKey"](Y0C)];if(O0C){O0C["current"]=true;}else{j0C["push"](Y0C);}}}j0C["sort"](function(J1C,l1C){return J1C["distanceTo"](Z0C)-l1C["distanceTo"](Z0C);});if(j0C["length"]!==0){if(!this["_loading"]){this["_loading"]=true;this["fire"]('loading');}X0C=document["createDocumentFragment"]();for(S0C=0;S0C<j0C["length"];S0C++){this["_addTile"](j0C[S0C],X0C);}this["_level"]["el"]["appendChild"](X0C);}},_tileReady:function(c1C,T1C,C1C){var P1C,h1C,a1C,A1C,e1C,f1C,W1C,w1C,x1C;if(!this["_map"]){return;}if(T1C){this["fire"]('tileerror',{error:T1C,tile:C1C,coords:c1C});}P1C=this["_tileCoordsToKey"](c1C);C1C=this["_tiles"][P1C];if(!C1C){return;}C1C["loaded"]=+new Date();if(this["_map"]["_fadeAnimated"]){L["DomUtil"]["setOpacity"](C1C["el"],0);L["Util"]["cancelAnimFrame"](this["_fadeFrame"]);this["_fadeFrame"]=L["Util"]["requestAnimFrame"](this["_updateOpacity"],this);}else{C1C["active"]=true;this["_pruneTiles"]();}if(!T1C){h1C=this["_tileCoordsToNwSe_layer_crs"](this["_map"]["_layers"][this["_leaflet_id"]]["options"]["crs"],c1C);a1C=this["_tileCoordsToSwNe_layer_crs"](this["_map"]["_layers"][this["_leaflet_id"]]["options"]["crs"],c1C);A1C=[h1C[0],a1C[1],h1C[1],a1C[0]];if(!(this["_map"]["_layers"][this["_leaflet_id"]]["options"]["crs"]==undefined)&&this["_map"]["_layers"][this["_leaflet_id"]]["options"]["useLayerCRS"]==true){e1C=0;f1C=false;if(this["WarpingTileImage"]!=undefined){while(e1C<this["WarpingTileImage"]["length"]){W1C=this["WarpingTileImage"][e1C];if(W1C["level"]==c1C["z"]&&C1C["el"]["src"]==W1C["src"]&&W1C["id"]==this["_leaflet_id"]){f1C=true;}e1C++;}}if(!f1C){w1C=L["imageTransform"](C1C["el"]["src"],A1C,{opacity:1,clip:A1C,disableSetClip:false})["addTo"](this["_map"]);x1C=new WarpingTile(this["_leaflet_id"],c1C["z"],w1C,C1C["el"]["src"]);this["WarpingTileImage"]["push"](x1C);}}else{L["DomUtil"]["addClass"](C1C["el"],'leaflet-tile-loaded');}this["fire"]('tileload',{tile:C1C["el"],coords:c1C});}if(this["_noTilesToLoad"]()){this["_loading"]=false;this["fire"]('load');if(L["Browser"]["ielt9"]||!this["_map"]["_fadeAnimated"]){L["Util"]["requestAnimFrame"](this["_pruneTiles"],this);}else{setTimeout(L["bind"](this["_pruneTiles"],this),250);}}},_resetGrid:function(){var s1C,L1C,d1C,N1C,V1C;s1C=this["_map"],L1C=s1C["options"]["crs"],d1C=this["_tileSize"]=this["getTileSize"](),N1C=this["_tileZoom"];V1C=null;if(this["options"]["useLayerCRS"]){L1C=this["options"]["crs"];V1C=this["_map"]["getPixelWorldBounds_layer_crs"](L1C,this["_tileZoom"]);}else{V1C=this["_map"]["getPixelWorldBounds"](this["_tileZoom"]);}if(V1C){this["_globalTileRange"]=this["_pxBoundsToTileRange"](V1C);}this["_wrapX"]=L1C["wrapLng"]&&!this["options"]["noWrap"]&&[Math["floor"](s1C["project"]([0,L1C["wrapLng"][0]],N1C)["x"]/d1C["x"]),Math["ceil"](s1C["project"]([0,L1C["wrapLng"][1]],N1C)["x"]/d1C["y"])];this["_wrapY"]=L1C["wrapLat"]&&!this["options"]["noWrap"]&&[Math["floor"](s1C["project"]([L1C["wrapLat"][0],0],N1C)["y"]/d1C["x"]),Math["ceil"](s1C["project"]([L1C["wrapLat"][1],0],N1C)["y"]/d1C["y"])];}});